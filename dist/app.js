"use strict";var _process$env$NODE_ENV,_config$PORT;const express=require("express"),app=express(),AppointmentRoutes=require("./routes/appointment-routes"),TreatmentRoutes=require("./routes/treatment-routes"),PatientRoutes=require("./routes/patient-routes"),InvoiceRoutes=require("./routes/invoice-routes"),config=require("./config.json")[null!==(_process$env$NODE_ENV=process.env.NODE_ENV)&&void 0!==_process$env$NODE_ENV?_process$env$NODE_ENV:"dev"],PORT=null!==(_config$PORT=null===config||void 0===config?void 0:config.PORT)&&void 0!==_config$PORT?_config$PORT:8080;app.use(express.json()),app.use("/api/patient",PatientRoutes),app.use("/api/treatment",TreatmentRoutes),app.use("/api/appointment",AppointmentRoutes),app.use("/api/invoice",InvoiceRoutes),app.get("/_health",(a,b)=>{console.log(`[API] ${a.method} request to /_health/`),console.log(`[API] Request handled successfully`),b.json({success:!0,health:"Good"}).end()}),app.all("*",(a,b)=>{b.sendStatus(404).end()}),app.listen(PORT,a=>{a?console.error(a):console.log(`API running at http://localhost:${PORT}\nOpen a browser and go to http://localhost:${PORT}/_health/\n`)}),module.exports=app;