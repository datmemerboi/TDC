"use strict";const router=require("express").Router(),InvoiceUtils=require("../utils/invoice-utils");router.post("/new",(a,b)=>{console.log(a.body),console.log(`[API] ${a.method} request to /api/invoice/new/`),a.body&&{}!==a.body&&a.body.p_id&&a.body.treatments?InvoiceUtils.NewInvoiceHandler(a.body.p_id,a.body).then(a=>{var c;console.log(`[API] Request handled successfully`),b.status(a.status).json(null!==(c=a.body)&&void 0!==c?c:{}).end()}).catch(a=>{console.error(`[API] Failed to handle request \n ${JSON.stringify(a)}`),b.sendStatus(500).end()}):(console.error(`[API] Bad Request: missing required parameters`),b.sendStatus(400).end())}),router.all("/all",(a,b)=>{var c,d;console.log(`[API] ${a.method} request to /api/invoice/all/`),InvoiceUtils.AllInvoiceHandler("true"===(null===(c=a.query)||void 0===c||null===(d=c.count)||void 0===d?void 0:d.toLowerCase())).then(a=>{console.log(`[API] Request handled successfully`),b.status(a.status).json(a.body).end()}).catch(a=>{console.error(`[API] Failed to handle request \n ${JSON.stringify(a)}`),b.sendStatus(500).end()})}),router.all("/print/:invid",(a,b)=>{console.log(`[API] ${a.method} request to /api/invoice/print/`),a.params.invid?InvoiceUtils.PrintInvoiceHandler(a.params.invid).then(a=>{console.log(`[API] Request handled successfully`),b.status(a.status).json(a.body).end()}).catch(a=>{console.error(`[API] Failed to handle request \n ${JSON.stringify(a)}`),b.sendStatus(500).end()}):(console.error(`[API] Bad Request: missing required parameters`),b.sendStatus(400).end())}),module.exports=router;